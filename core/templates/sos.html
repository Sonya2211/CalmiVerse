{% extends "base.html" %} {% block content %}

<style>
  @import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap");

  body {
    font-family: "Plus Jakarta Sans", sans-serif;
  }

  .sos-pulse {
    animation: sos-pulse-red 2s infinite;
  }

  @keyframes sos-pulse-red {
    0% {
      box-shadow: 0 0 0 0px rgba(239, 68, 68, 0.4),
        0 0 0 0px rgba(239, 68, 68, 0.2), 0 0 60px rgba(239, 68, 68, 0.3);
    }
    70% {
      box-shadow: 0 0 0 30px rgba(239, 68, 68, 0),
        0 0 0 60px rgba(239, 68, 68, 0), 0 0 80px rgba(239, 68, 68, 0.5);
    }
    100% {
      box-shadow: 0 0 0 0px rgba(239, 68, 68, 0), 0 0 0 0px rgba(239, 68, 68, 0),
        0 0 60px rgba(239, 68, 68, 0.2);
    }
  }

  .emergency-card {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.85),
      rgba(255, 255, 255, 0.95)
    );
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 10px 40px -12px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  .emergency-card:hover {
    transform: translateY(-8px);
    border-color: #ef4444;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.95),
      rgba(255, 255, 255, 1)
    );
    box-shadow: 0 25px 60px -15px rgba(239, 68, 68, 0.2),
      0 0 40px rgba(239, 68, 68, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }

  .gradient-text {
    background: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-border {
    position: relative;
    background: linear-gradient(white, white) padding-box,
      linear-gradient(135deg, #ef4444, #dc2626, #b91c1c) border-box;
    border: 2px solid transparent;
  }

  .pulse-dot {
    animation: pulse 1.5s ease-in-out infinite;
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.3);
    }
  }

  .fade-in {
    animation: fadeIn 0.8s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes shake {
    0%,
    100% {
      transform: translateX(0);
    }
    10%,
    30%,
    50%,
    70%,
    90% {
      transform: translateX(-5px);
    }
    20%,
    40%,
    60%,
    80% {
      transform: translateX(5px);
    }
  }

  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }

  .glow-red {
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.5);
    transition: box-shadow 0.3s ease;
  }

  .glow-red:hover {
    box-shadow: 0 0 60px rgba(239, 68, 68, 0.7);
  }

  .risk-level {
    transition: all 0.3s ease;
  }

  .risk-level:hover {
    transform: scale(1.05);
  }

  .floating-element {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  /* Custom Icons */
  .custom-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    font-size: 24px;
    font-weight: bold;
  }

  .icon-siren-bg {
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    color: #ef4444;
  }

  .icon-phone-bg {
    background: linear-gradient(135deg, #eff6ff, #dbeafe);
    color: #2563eb;
  }

  .icon-medical-bg {
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    color: #0284c7;
  }

  .icon-support-bg {
    background: linear-gradient(135deg, #f5f3ff, #ede9fe);
    color: #7c3aed;
  }

  .icon-time-bg {
    background: linear-gradient(135deg, #faf5ff, #f3e8ff);
    color: #9333ea;
  }

  .icon-confidential-bg {
    background: linear-gradient(135deg, #fdf2f8, #fce7f3);
    color: #db2777;
  }

  .icon-text-bg {
    background: linear-gradient(135deg, #f0fdf4, #dcfce7);
    color: #059669;
  }
</style>

<!-- Background Elements -->
<div class="fixed inset-0 -z-10 overflow-hidden">
  <div
    class="absolute top-1/4 left-1/4 w-96 h-96 bg-red-300/10 rounded-full blur-3xl floating-element"
  ></div>
  <div
    class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-rose-300/10 rounded-full blur-3xl floating-element"
    style="animation-delay: -3s"
  ></div>
</div>

<div class="max-w-6xl mx-auto px-6 pt-28 pb-20">
  <!-- Emergency Alert Banner -->
  <div
    class="gradient-border rounded-[3rem] p-12 mb-16 bg-gradient-to-br from-red-50/80 to-rose-50/80 backdrop-blur-md fade-in relative overflow-hidden"
  >
    <!-- Background Pattern -->
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(239,68,68,0.1)_0%,transparent_50%)]"
    ></div>

    <div class="relative z-10">
      <div class="flex items-center justify-between gap-8 mb-8">
        <div>
          <div
            class="inline-flex items-center gap-3 px-4 py-2 rounded-full bg-red-100/80 text-red-600 text-sm font-black uppercase tracking-widest mb-6"
          >
            <span class="w-3 h-3 rounded-full bg-red-500 pulse-dot"></span>
            EMERGENCY ALERT
          </div>
          <h1 class="text-5xl md:text-6xl font-black mb-4">
            <span class="gradient-text">Emergency SOS</span>
          </h1>
          <p class="text-xl text-slate-600 font-medium max-w-3xl">
            Immediate professional support is available. You don't have to face
            this alone.
          </p>
        </div>
        <div class="hidden md:block">
          <div class="custom-icon icon-siren-bg animate-shake">
            <span>SOS</span>
          </div>
        </div>
      </div>

      <!-- Risk Assessment -->
      <div class="mb-10">
        <h3 class="text-lg font-bold text-slate-800 mb-4">
          How are you feeling right now?
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div
            class="risk-level p-4 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 text-center cursor-pointer hover:shadow-lg transition-all"
          >
            <div class="custom-icon mx-auto mb-2 icon-text-bg">
              <span>üß†</span>
            </div>
            <div class="font-bold text-slate-800 mb-1">Mild Distress</div>
            <div class="text-sm text-slate-600">Feeling anxious or low</div>
          </div>
          <div
            class="risk-level p-4 rounded-2xl bg-gradient-to-br from-yellow-50 to-amber-50 border border-yellow-200 text-center cursor-pointer hover:shadow-lg transition-all"
          >
            <div class="custom-icon mx-auto mb-2 icon-siren-bg">
              <span>‚ù§Ô∏è‚Äçü©π</span>
            </div>
            <div class="font-bold text-slate-800 mb-1">Moderate Crisis</div>
            <div class="text-sm text-slate-600">Overwhelmed or panicked</div>
          </div>
          <div
            class="risk-level p-4 rounded-2xl bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 text-center cursor-pointer hover:shadow-lg transition-all"
          >
            <div class="custom-icon mx-auto mb-2 icon-siren-bg">
              <span>‚úï</span>
            </div>
            <div class="font-bold text-slate-800 mb-1">Severe Emergency</div>
            <div class="text-sm text-slate-600">
              Immediate danger to self/others
            </div>
          </div>
        </div>
      </div>

      <!-- Emergency Call Button -->
      <div class="text-center">
        <div class="inline-flex flex-col items-center gap-4">
          <div class="text-red-600 font-bold text-sm uppercase tracking-widest">
            IMMEDIATE ACTION REQUIRED
          </div>
          <a
            href="tel:112"
            class="sos-pulse flex items-center gap-6 bg-gradient-to-r from-red-500 via-red-600 to-rose-600 text-white px-16 py-8 rounded-3xl font-black text-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden glow-red"
          >
            <div
              class="custom-icon"
              style="background: rgba(255, 255, 255, 0.2)"
            >
              <span>üìû</span>
            </div>
            <div class="text-center">
              <div class="text-4xl">CALL 112</div>
              <div class="text-sm font-normal opacity-90">
                National Emergency Number
              </div>
            </div>
            <div class="absolute -right-4 top-1/2 transform -translate-y-1/2">
              <div class="custom-icon icon-siren-bg">
                <span>!</span>
              </div>
            </div>
          </a>
          <p class="text-slate-500 text-sm max-w-md mt-4">
            Dial 112 for police, fire, or medical emergencies. This line is
            available 24/7 across India.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Support Helplines -->
  <div class="fade-in" style="animation-delay: 0.2s">
    <div class="flex items-center gap-4 mb-10">
      <div class="custom-icon icon-medical-bg">
        <span>+</span>
      </div>
      <div>
        <h2 class="text-3xl font-black text-slate-900">Support Helplines</h2>
        <p class="text-slate-500">
          Professional mental health support available 24/7
        </p>
      </div>
      <div
        class="h-[2px] flex-grow bg-gradient-to-r from-transparent via-slate-200 to-transparent"
      ></div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% for c in contacts %}
      <div
        class="emergency-card rounded-[2rem] p-8 flex items-center justify-between group shadow-lg hover:shadow-xl"
      >
        <div class="flex items-center gap-5">
          <div class="relative">
            <div
              class="custom-icon group-hover:icon-siren-bg transition-all duration-300 shadow-md"
            >
              {% if "Vandrevala" in c.name %}
              <span>+</span>
              {% elif "iCall" in c.name %}
              <span>üìû</span>
              {% elif "Suicide" in c.name %}
              <span>ü§ù</span>
              {% else %}
              <span>+</span>
              {% endif %}
            </div>
            <div
              class="absolute -inset-2 rounded-2xl bg-red-400/10 blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"
            ></div>
          </div>
          <div>
            <h4 class="font-bold text-slate-900 text-xl mb-1">{{ c.name }}</h4>
            <div class="flex items-center gap-2">
              <span class="w-2 h-2 rounded-full bg-green-500"></span>
              <p
                class="text-slate-400 text-xs font-bold uppercase tracking-widest"
              >
                Available 24/7
              </p>
            </div>
          </div>
        </div>

        <a
          href="tel:{{c.phone}}"
          class="bg-gradient-to-br from-white to-slate-50 border-2 border-slate-200 text-red-600 px-6 py-3 rounded-xl font-black text-lg hover:bg-gradient-to-br hover:from-red-500 hover:to-rose-500 hover:text-white hover:border-red-500 transition-all duration-300 shadow-md hover:shadow-lg flex items-center gap-2 group/btn"
        >
          <span>{{ c.phone }}</span>
          <span
            class="text-lg transform group-hover/btn:translate-x-1 transition-transform"
            >‚Üí</span
          >
        </a>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Additional Resources -->
  <div class="mt-16 fade-in" style="animation-delay: 0.4s">
    <div class="flex items-center gap-4 mb-10">
      <div class="custom-icon icon-support-bg">
        <span>üõ°Ô∏è</span>
      </div>
      <div>
        <h2 class="text-3xl font-black text-slate-900">Emergency Resources</h2>
        <p class="text-slate-500">
          Additional support channels and information
        </p>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div
        class="p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100 hover:shadow-lg transition-all duration-300"
      >
        <div class="custom-icon mb-4 icon-time-bg">
          <span>‚è∞</span>
        </div>
        <h4 class="font-bold text-slate-800 text-lg mb-2">
          Immediate Response
        </h4>
        <p class="text-slate-600 text-sm">
          Emergency services typically respond within 8-10 minutes in urban
          areas.
        </p>
      </div>
      <div
        class="p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100 hover:shadow-lg transition-all duration-300"
      >
        <div class="custom-icon mb-4 icon-confidential-bg">
          <span>üîí</span>
        </div>
        <h4 class="font-bold text-slate-800 text-lg mb-2">
          Confidential Support
        </h4>
        <p class="text-slate-600 text-sm">
          All helplines maintain strict confidentiality. Your privacy is
          protected.
        </p>
      </div>
      <div
        class="p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-emerald-50 border border-teal-100 hover:shadow-lg transition-all duration-300"
      >
        <div class="custom-icon mb-4 icon-text-bg">
          <span>üí¨</span>
        </div>
        <h4 class="font-bold text-slate-800 text-lg mb-2">Text Support</h4>
        <p class="text-slate-600 text-sm">
          Many helplines offer SMS/chat support if you prefer not to speak.
        </p>
      </div>
    </div>
  </div>

  <!-- Important Message -->
  <div class="mt-16 text-center fade-in" style="animation-delay: 0.6s">
    <div
      class="inline-block p-8 rounded-3xl bg-gradient-to-r from-red-50/50 to-rose-50/50 border border-red-100/50 backdrop-blur-sm"
    >
      <div
        class="custom-icon mx-auto mb-4"
        style="background: rgba(239, 68, 68, 0.1); color: #ec4899"
      >
        <span>‚ù§Ô∏è</span>
      </div>
      <p class="text-xl text-slate-700 font-medium italic max-w-2xl mx-auto">
        "Your life matters. There is always hope, and there are always people
        ready to help you through this moment."
      </p>
      <p class="text-sm text-slate-500 mt-4">‚Äî CalmiVerse Team</p>
    </div>
  </div>
</div>
<footer
  class="relative bg-gradient-to-b from-white via-white/95 to-teal-50/30 border-t border-slate-200/50"
>
  <!-- Decorative Elements -->
  <div
    class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-teal-400/50 to-transparent"
  ></div>

  <div class="max-w-7xl mx-auto px-6 py-16">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
      <!-- Brand Section -->
      <div class="lg:col-span-4">
        <div class="flex items-center gap-4 mb-6">
          <div class="relative">
            <div
              class="w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg"
            >
              <span class="text-white text-xl font-bold">AI</span>
            </div>
            <div
              class="absolute -inset-2 rounded-xl bg-teal-500/20 blur-md"
            ></div>
          </div>
          <div>
            <h3 class="text-2xl font-black text-slate-900">CalmiVerse</h3>
            <p class="text-sm text-teal-600 font-semibold">
              Mental Wellness Platform
            </p>
          </div>
        </div>
        <p class="text-slate-600 leading-relaxed pr-10">
          Revolutionizing mental health support through AI-driven therapy,
          compassionate companionship, and immediate crisis intervention ‚Äî all
          while prioritizing your privacy and emotional safety.
        </p>
      </div>

      <!-- Quick Links -->
      <div class="lg:col-span-2">
        <h4
          class="text-sm font-bold text-slate-800 mb-6 uppercase tracking-wider flex items-center gap-2"
        >
          <span class="w-2 h-2 bg-teal-500 rounded-full"></span>
          Navigation
        </h4>
        <ul class="space-y-4">
          <li>
            <a
              href="/dashboard/"
              class="text-slate-600 hover:text-teal-600 font-medium transition-all duration-300 flex items-center gap-3 group"
            >
              <span
                class="w-1 h-1 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
              ></span>
              Dashboard
            </a>
          </li>
          <li>
            <a
              href="/therapy/"
              class="text-slate-600 hover:text-teal-600 font-medium transition-all duration-300 flex items-center gap-3 group"
            >
              <span
                class="w-1 h-1 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
              ></span>
              Therapy
            </a>
          </li>
          <li>
            <a
              href="/ai/"
              class="text-slate-600 hover:text-teal-600 font-medium transition-all duration-300 flex items-center gap-3 group"
            >
              <span
                class="w-1 h-1 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
              ></span>
              AI Chat
            </a>
          </li>
          <li>
            <a
              href="/sos/"
              class="text-slate-600 hover:text-teal-600 font-medium transition-all duration-300 flex items-center gap-3 group"
            >
              <span
                class="w-1 h-1 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
              ></span>
              Emergency SOS
            </a>
          </li>
          <li>
            <a
              href="/feedback/"
              class="text-slate-600 hover:text-teal-600 font-medium transition-all duration-300 flex items-center gap-3 group"
            >
              <span
                class="w-1 h-1 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
              ></span>
              Feedback
            </a>
          </li>
        </ul>
      </div>

      <!-- Trust Badges -->
      <div class="lg:col-span-3">
        <h4
          class="text-sm font-bold text-slate-800 mb-6 uppercase tracking-wider flex items-center gap-2"
        >
          <span class="w-2 h-2 bg-cyan-500 rounded-full"></span>
          Why Trust Us
        </h4>
        <div class="grid grid-cols-2 gap-4">
          <div
            class="p-4 rounded-xl bg-gradient-to-br from-white to-slate-50 border border-slate-200"
          >
            <div class="text-xl font-bold text-cyan-600 mb-2">Security</div>
            <div class="text-sm font-semibold text-slate-700">
              End-to-End Encrypted
            </div>
          </div>
          <div
            class="p-4 rounded-xl bg-gradient-to-br from-white to-slate-50 border border-slate-200"
          >
            <div class="text-xl font-bold text-teal-600 mb-2">Evidence</div>
            <div class="text-sm font-semibold text-slate-700">
              Evidence-Based
            </div>
          </div>
          <div
            class="p-4 rounded-xl bg-gradient-to-br from-white to-slate-50 border border-slate-200"
          >
            <div class="text-xl font-bold text-blue-600 mb-2">24/7</div>
            <div class="text-sm font-semibold text-slate-700">
              24/7 Available
            </div>
          </div>
          <div
            class="p-4 rounded-xl bg-gradient-to-br from-white to-slate-50 border border-slate-200"
          >
            <div class="text-xl font-bold text-violet-600 mb-2">Safe</div>
            <div class="text-sm font-semibold text-slate-700">No Judgment</div>
          </div>
        </div>
      </div>

      <!-- User Actions -->
      <div class="lg:col-span-3">
        <h4
          class="text-sm font-bold text-slate-800 mb-6 uppercase tracking-wider flex items-center gap-2"
        >
          <span class="w-2 h-2 bg-rose-500 rounded-full"></span>
          Your Account
        </h4>

        <div class="space-y-6">
          <!-- User Info -->
          <div class="p-5 rounded-2xl glass-container">
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-10 h-10 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white font-bold"
              >
                {{ request.user.username|first|upper }}
              </div>
              <div>
                <div class="font-semibold text-slate-800">
                  {{ request.user.username }}
                </div>
                <div class="text-sm text-slate-500">Premium Member</div>
              </div>
            </div>
            <div class="text-xs text-slate-500">Last login: Today</div>
          </div>

          <!-- Actions -->
          <div class="space-y-3">
            <a
              href="/logout/"
              class="block w-full py-3 px-6 rounded-xl bg-gradient-to-r from-white to-slate-50 border border-slate-300 text-slate-700 font-semibold text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5"
            >
              Sign Out
            </a>

            <div
              class="relative overflow-hidden rounded-2xl bg-gradient-to-r from-teal-500/10 to-cyan-500/10 p-5 border border-teal-200/50"
            >
              <div
                class="absolute top-0 right-0 w-20 h-20 bg-teal-400/10 rounded-full -translate-y-6 translate-x-6"
              ></div>
              <div class="relative">
                <div class="text-teal-600 font-bold text-lg mb-2">
                  Emergency
                </div>
                <div class="font-bold text-slate-800 text-sm mb-1">
                  Need Immediate Help?
                </div>
                <a
                  href="/sos/"
                  class="text-teal-600 font-semibold text-sm hover:underline flex items-center gap-1"
                >
                  Go to SOS Protocol
                  <span class="text-lg">‚Üí</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Divider -->
    <div
      class="my-10 h-px bg-gradient-to-r from-transparent via-slate-300/50 to-transparent"
    ></div>

    <!-- Bottom Bar -->
    <div class="flex flex-col md:flex-row justify-between items-center gap-4">
      <div class="text-slate-500 text-sm">
        ¬© 2024 <span class="font-bold text-slate-700">CalmiVerse</span>
        ¬∑ Built for mental wellness ¬∑ All rights reserved
      </div>

      <div class="flex items-center gap-6 text-sm text-slate-500">
        <a href="/privacy_policy/" class="hover:text-teal-600 transition-colors"
          >Privacy Policy</a
        >
        <a
          href="/terms_of_service/"
          class="hover:text-teal-600 transition-colors"
          >Terms of Service</a
        >
      </div>
    </div>
  </div>
</footer>
<script>
  // Risk level selection
  document.querySelectorAll(".risk-level").forEach((level) => {
    level.addEventListener("click", function () {
      // Remove active state from all
      document.querySelectorAll(".risk-level").forEach((l) => {
        l.classList.remove("border-2", "border-red-500", "shadow-lg");
      });

      // Add active state to clicked
      this.classList.add("border-2", "border-red-500", "shadow-lg");

      // Show appropriate message based on risk level
      const levelText = this.querySelector(".font-bold").textContent;
      let message = "";

      if (levelText.includes("Mild")) {
        message = "Consider reaching out to our AI Chat for immediate support.";
      } else if (levelText.includes("Moderate")) {
        message =
          "We recommend contacting a helpline or trusted person immediately.";
      } else if (levelText.includes("Severe")) {
        message =
          "Please call emergency services (112) immediately. Your safety is the priority.";
      }

      // Show temporary message
      if (message) {
        const alertDiv = document.createElement("div");
        alertDiv.className =
          "fixed top-6 right-6 z-50 px-6 py-4 rounded-2xl bg-red-50 border border-red-200 text-red-700 max-w-sm";
        alertDiv.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="custom-icon icon-siren-bg">
              <span>‚ö†</span>
            </div>
            <span>${message}</span>
          </div>
        `;
        document.body.appendChild(alertDiv);

        setTimeout(() => {
          alertDiv.style.opacity = "0";
          alertDiv.style.transform = "translateY(-20px)";
          setTimeout(() => alertDiv.remove(), 500);
        }, 5000);
      }
    });
  });

  // Emergency call button enhancement
  const emergencyBtn = document.querySelector('a[href="tel:112"]');
  if (emergencyBtn) {
    emergencyBtn.addEventListener("mouseenter", () => {
      emergencyBtn.classList.add("animate-shake");
    });

    emergencyBtn.addEventListener("mouseleave", () => {
      emergencyBtn.classList.remove("animate-shake");
    });
  }

  // Add visual feedback for emergency contacts
  document.querySelectorAll('a[href^="tel:"]').forEach((link) => {
    if (link.getAttribute("href") !== "tel:112") {
      link.addEventListener("click", function (e) {
        const number = this.textContent.trim();
        const name =
          this.closest(".emergency-card").querySelector(
            ".font-bold"
          ).textContent;

        // Show confirmation
        const confirmDiv = document.createElement("div");
        confirmDiv.className =
          "fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm";
        confirmDiv.innerHTML = `
          <div class="bg-white rounded-3xl p-8 max-w-md mx-4 shadow-2xl">
            <div class="custom-icon icon-siren-bg mx-auto mb-4">
              <span>üìû</span>
            </div>
            <h3 class="text-2xl font-bold text-slate-900 mb-2 text-center">Call ${name}?</h3>
            <p class="text-slate-600 text-center mb-6">You are about to call <strong class="text-red-600">${number}</strong>. This is an emergency helpline.</p>
            <div class="flex gap-4">
              <button class="flex-1 py-3 rounded-xl border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 transition" onclick="this.closest('.fixed').remove()">
                Cancel
              </button>
              <a href="tel:${number}" class="flex-1 py-3 rounded-xl bg-red-500 text-white font-bold text-center hover:bg-red-600 transition">
                Call Now
              </a>
            </div>
          </div>
        `;

        document.body.appendChild(confirmDiv);
        e.preventDefault();
      });
    }
  });
</script>

{% endblock %}
